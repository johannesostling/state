Stateless validation of state-transitions